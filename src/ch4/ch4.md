# 언어를 처리하는 기법(metalinguistic abstraction)

프로그램 전문가가 복잡한 시스템을 설계하는 데 쓰는 기법이란, 곧 큰 눈으로 시스템의 구조를 바라보고 모듈 방식modularity을 잃지 않도록 설계하려 애쓰는 일임을 알게 되었다.

사실(풀어야 할 문제에 딱 들어맞는) 언어를 새로 만들어 쓰는 기술은 모든 공학에서 복잡한 설계 문제를 다루는 데 아주 뛰어난 방법이다.

- DSL(Domain-Specific Language) = 1. 기본원소 + 2. 조합수단 + 3. 추상화 수단

프로그램을 짠다는 것은 본디부터 갖가지 수많은 언어가 한데 어우러져 일어나는 일이다.

**언어를 처리하는 기법metalinguistic abstraction**, 곧 언어를 새로 만드는 방법은 새로 만든 언어의 이론적 체계를 입증하는 방법과 실제 그 언어의 실행기를 구현하는 방법을 아우른다. 여기서 프로그래밍 언어의 실행기evaluator(또는 해석기interperter)란, 그 언어로 적은 식을 입력으로 받아서 그 식을 실행하여 값을 계산하는 프로시저를 말한다.

그러므로 프로그램 분야의 가장 바탕이 되는 생각은 다음과 같다.

> "언어 실행기란, 프로그래밍 언어로 나타낸 식이 무엇을 뜻하는지 밝히는 것으로, 이 또한 그저 또 하나의 프로그램일 뿐이다."

이 말 뜻을 알아들었다는 것은 프로그램 짜는 사람이 누구인가에 대한 생각을 바꾼다는 것과 같다. **드디어 남이 설계한 언어를 받아서 쓰기만 하는 사람이 아니라 그런 언어를 스스로 설계하는 사람으로 자신을 바라보아야 할 시점에 이른 것이다.**

이렇게 바라보면, 큰 컴퓨터 시스템을 설계하는 기술과 컴퓨터 언어를 만드는 기술이 본디 하나임을 알게 되고, 더 나아가서 컴퓨터 과학 자체가 문제마다 그 풀이에 알맞은 표현 수단을 갖출 수 있도록 새 언어를 만들어 내는 분야에 지나지 않음을 깨닫게 된다.

이 장에서는 Lisp를 바탕언어로 삼아, 언어를 처리하는 Lisp 프로시저를 짜 볼 참이다. (사실 모든 언어 처리기processor에는 어딘가 깊숙한 곳에 조그만 'Lisp' 실행기가 들어 있다고 봐도 된다.)

## 메타써큘러 실행기(meta-circular evaluator)

처음에는 언어를 어떻게 만드는지 이해하기 위하여 lisp 언어 실행기를 lisp 으로 짠다 (Scheme의 부분집합). 이처럼 언어 실행기가 처리하려는 언어로 다시 그 실행기를 만들 때, 그런 실행기를 *메타써큘러metacircular 실행기*라고 한다.

## Scheme 바꿔보기 - 제때 계산법(lazy evaluation)

바탕이 되는 언어(스킴)를 바꾸어서 더 깔끔한 방법으로 스트림 데이터 기법을 프로그래밍 할 수 있도록, *정의대로 계산법normal-order evaluation*을 적용한 실행기를 만든다.

## Scheme 바꿔보기 - 비결정적 계산

한 언어에서 *비결정적 계산 방법nondeterministic computing*을 표현할 수 있으면, 식이 나타낼 수 있는 모든 값을 늘어놓고 그 가운데 조건에 맞아떨어지는 값을 찾아내는 프로세스를 자연스럽게 표현할 수 있다. 계산 모형과 시간의 관점으로 따져 보았을 때, 계산 과정의 한 시점에서 '앞으로 일어날 수 있는 일'을 모두 나뭇가지처럼 펼처놓고 그 가운데 알맞은 가지를 골라잡아 계산을 이어 가는 것과 같다.

## 논리로 프로그램 짜기

데이터 사이의 관계를 바탕으로 지식을 나타내는 *논리 프로그래밍logic-programming*언어를 만든다.
